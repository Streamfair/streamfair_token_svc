{
  "swagger": "2.0",
  "info": {
    "title": "Streamfair Token Service",
    "version": "1.1",
    "contact": {
      "name": "Streamfair",
      "url": "https://github.com/Streamfair",
      "email": "nelix@posteo.de"
    }
  },
  "tags": [
    {
      "name": "TokenService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/create_token": {
      "post": {
        "summary": "Create Token",
        "description": "Create a new token.",
        "operationId": "TokenService_CreateToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbCreateTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbCreateTokenRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/get_token_by_id": {
      "post": {
        "summary": "Get Token by ID",
        "description": "Get a token by its ID.",
        "operationId": "TokenService_GetTokenById",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbGetTokenByIdResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbGetTokenByIdRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/get_token_by_value": {
      "post": {
        "summary": "Get Token by Value",
        "description": "Get a token by its value.",
        "operationId": "TokenService_GetTokenByValue",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbGetTokenByValueResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbGetTokenByValueRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/revoke_token_by_value": {
      "post": {
        "summary": "Revoke Token by Value",
        "description": "Revoke a token by its value.",
        "operationId": "TokenService_RevokeTokenByValue",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbRevokeTokenByValueRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/revoke_token_by_id": {
      "post": {
        "summary": "Revoke Token by ID",
        "description": "Revoke a token by its ID.",
        "operationId": "TokenService_RevokeTokenById",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbRevokeTokenByIdRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/delete_token_by_id": {
      "post": {
        "summary": "Delete Token by ID",
        "description": "Delete a token by its ID.",
        "operationId": "TokenService_DeleteTokenById",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbDeleteTokenByIdRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/delete_token_by_value": {
      "post": {
        "summary": "Delete Token by Value",
        "description": "Delete a token by its value.",
        "operationId": "TokenService_DeleteTokenByValue",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbDeleteTokenByValueRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/list_revoked_tokens": {
      "post": {
        "summary": "List Revoked Tokens",
        "description": "List all revoked tokens.",
        "operationId": "TokenService_ListRevokedTokens",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbListRevokedTokensResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/list_tokens": {
      "get": {
        "summary": "List Tokens",
        "description": "List all tokens.",
        "operationId": "TokenService_ListTokens",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbListTokensResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/update_token": {
      "patch": {
        "summary": "Update Token",
        "description": "Update a token.",
        "operationId": "TokenService_UpdateToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbUpdateTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbUpdateTokenRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/verify_token": {
      "post": {
        "summary": "Verify Token",
        "description": "Verify a token.",
        "operationId": "TokenService_VerifyToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbVerifyTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbVerifyTokenRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/blacklist_refresh_token": {
      "post": {
        "summary": "Blacklist Refresh Token",
        "description": "Blacklist a refresh token.",
        "operationId": "TokenService_BlacklistRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/create_refresh_token": {
      "post": {
        "summary": "Create Refresh Token",
        "description": "Create a new refresh token.",
        "operationId": "TokenService_CreateRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbCreateRefreshTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbCreateRefreshTokenRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/delete_refresh_token/{id}": {
      "delete": {
        "summary": "Delete Refresh Token by ID",
        "description": "Delete a refresh token by its ID.",
        "operationId": "TokenService_DeleteRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "int64"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/get_refresh_token_by_id/{id}": {
      "get": {
        "summary": "Get Refresh Token by ID",
        "description": "Get a refresh token by its ID.",
        "operationId": "TokenService_GetRefreshTokenByID",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbGetRefreshTokenByIDResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "format": "int64"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/get_refresh_token_by_value/{refreshToken}": {
      "get": {
        "summary": "Get Refresh Token by Value",
        "description": "Get a refresh token by its value.",
        "operationId": "TokenService_GetRefreshTokenByValue",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbGetRefreshTokenByValueResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "refreshToken",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/get_revoked_refresh_tokens": {
      "get": {
        "summary": "Get Revoked Refresh Tokens",
        "description": "Get all revoked refresh tokens.",
        "operationId": "TokenService_GetRevokedRefreshTokens",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbGetRevokedRefreshTokensResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/list_refresh_tokens": {
      "get": {
        "summary": "List Refresh Tokens",
        "description": "List all refresh tokens.",
        "operationId": "TokenService_ListRefreshTokens",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbListRefreshTokensResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/revoke_refresh_token": {
      "post": {
        "summary": "Revoke Refresh Token",
        "description": "Revoke a refresh token.",
        "operationId": "TokenService_RevokeRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "int64"
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/update_refresh_token": {
      "patch": {
        "summary": "Update Refresh Token",
        "description": "Update a refresh token.",
        "operationId": "TokenService_UpdateRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbUpdateRefreshTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbUpdateRefreshTokenRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    },
    "/v1/verify_refresh_token": {
      "post": {
        "summary": "Verify Refresh Token",
        "description": "Verify a refresh token.",
        "operationId": "TokenService_VerifyRefreshToken",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/pbVerifyRefreshTokenResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/pbVerifyRefreshTokenRequest"
            }
          }
        ],
        "tags": [
          "TokenService"
        ]
      }
    }
  },
  "definitions": {
    "pbCreateRefreshTokenRequest": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "format": "int64"
        },
        "token": {
          "type": "string"
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "pbCreateRefreshTokenResponse": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "$ref": "#/definitions/pbRefreshToken"
        }
      }
    },
    "pbCreateTokenRequest": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "format": "int64"
        },
        "expiresAt": {
          "type": "string"
        }
      }
    },
    "pbCreateTokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "$ref": "#/definitions/pbToken"
        }
      }
    },
    "pbDeleteTokenByIdRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "pbDeleteTokenByValueRequest": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "pbGetRefreshTokenByIDResponse": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "$ref": "#/definitions/pbRefreshToken"
        }
      }
    },
    "pbGetRefreshTokenByValueResponse": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "$ref": "#/definitions/pbRefreshToken"
        }
      }
    },
    "pbGetRevokedRefreshTokensResponse": {
      "type": "object",
      "properties": {
        "refreshTokens": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/pbRefreshToken"
          }
        }
      }
    },
    "pbGetTokenByIdRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "pbGetTokenByIdResponse": {
      "type": "object",
      "properties": {
        "token": {
          "$ref": "#/definitions/pbToken"
        }
      }
    },
    "pbGetTokenByValueRequest": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "pbGetTokenByValueResponse": {
      "type": "object",
      "properties": {
        "token": {
          "$ref": "#/definitions/pbToken"
        }
      }
    },
    "pbListRefreshTokensResponse": {
      "type": "object",
      "properties": {
        "refreshTokens": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/pbRefreshToken"
          }
        }
      }
    },
    "pbListRevokedTokensResponse": {
      "type": "object",
      "properties": {
        "tokens": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/pbToken"
          }
        }
      }
    },
    "pbListTokensResponse": {
      "type": "object",
      "properties": {
        "tokens": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/pbToken"
          }
        }
      }
    },
    "pbRefreshToken": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        },
        "userId": {
          "type": "string",
          "format": "int64"
        },
        "tokenType": {
          "type": "string"
        },
        "token": {
          "type": "string"
        },
        "revoked": {
          "type": "boolean"
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "pbRevokeTokenByIdRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "pbRevokeTokenByValueRequest": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "pbToken": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        },
        "userId": {
          "type": "string",
          "format": "int64"
        },
        "tokenType": {
          "type": "string"
        },
        "token": {
          "type": "string"
        },
        "revoked": {
          "type": "boolean"
        },
        "expiresAt": {
          "type": "string",
          "format": "date-time"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "pbUpdateRefreshTokenRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        },
        "userId": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "pbUpdateRefreshTokenResponse": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "$ref": "#/definitions/pbRefreshToken"
        }
      }
    },
    "pbUpdateTokenRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64"
        },
        "userId": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "pbUpdateTokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "$ref": "#/definitions/pbToken"
        }
      }
    },
    "pbVerifyRefreshTokenRequest": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "type": "string"
        }
      }
    },
    "pbVerifyRefreshTokenResponse": {
      "type": "object",
      "properties": {
        "refreshToken": {
          "$ref": "#/definitions/pbRefreshToken"
        }
      }
    },
    "pbVerifyTokenRequest": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "pbVerifyTokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "$ref": "#/definitions/pbToken"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
